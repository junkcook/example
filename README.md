
# 通讯管理机远程运维模块

`远程运维` `协议` `报文示例` `V1.0`

|作者|日期|版本|说明|
|:--:|:--:|:--:|:--|
|马永江|2019年11月14日|v1.0|初级版本，实现了登录、心跳和组包解包功能|

------------

**通信协议数据结构：**<br>
所有的通讯包都是由 ASCII 码（汉字除外，采用 UTF-8 码，8 位，1 字节）字符组成。

| 包头(2) | 数据段长度(4) | 请求编码(20) | 命令编码(7) | 设备唯一标识(27) | 标志位(8) |指令参数| CRC校验(4) | 包尾(2) |
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| ## |0123|20191109120412251 | 1001 | 250401201707000123 |

说明：长度(4) 为数据段长度。指从QN到数据段。

------------

`链路--登录帧 1001`
```
##0122QN=20191109120412251;CN=1001;MN=250401201707000123;Flag=5;CP=&&SystemTime=20191109120412;UpTime=1832;InetAddr=10.0.2.179&&3FC0\r\n
```

`链路--心跳帧 1002`
```
##0076QN=20191109120228084;CN=1002;MN=250401201707000123;Flag=5;CP=&&UpTime=1832&&24C0\r\n
```

`交互--脚本帧`
```
##0075QN=20191109120228084;CN=2001;MN=250401201707000123;Flag=5;CP=&&Command=ls&&c0c1\r\n
```

`交互--数据帧`
```
##0255QN=20191109120228084;CN=3001;MN=250401201707000123;Flag=5;CP=&&&&0000\r\n
```

 
##0087QN=20190930082407134;ST=91;CN=9014;PW=123456;MN=MNTTTTTTTTTTTTTTTTTT1107;Flag=4;CP=&&&&17C0

201911071158001
250401201707000123设备类型

![RUNOOB 图标](https://imgconvert.csdnimg.cn/aHR0cDovL3N0YXRpYy5ydW5vb2IuY29tL2ltYWdlcy9ydW5vb2ItbG9nby5wbmc?x-oss-process=image/format,png)